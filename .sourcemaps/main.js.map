{"version":3,"sources":["../../src/pages/word-list/word-list.ts","../../src/pages/key-word-signs/key-word-signs.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/providers/file-service/file-service.ts","../../src/app/app.component.ts","../../src/pages/home/home.ts","../../src/pages/videos/videos.ts","../../src/pages/story-time/story-time.ts","../../src/pages/weekly-signs/weekly-signs.ts","../../src/pages/hints-tips/hints-tips.ts","../../src/pages/tutorial/tutorial.ts","../../src/pages/ten-week-program/ten-week-program.ts","../../src/pages/settings/settings.ts","../../src/pages/acknowledgements/acknowledgements.ts","../../src/pages/about-talkable/about-talkable.ts","../../src/pages/rating-modal/rating-modal.ts","../../src/providers/feedback-service/feedback-service.ts","../../src/pages/manage-downloads/manage-downloads.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/providers/settings.ts","../../node_modules/moment/locale ^/.*$","../../src/providers/download-service/download-service.ts","../../src/pages/tabs-controller/tabs-controller.ts","../../src/providers/video-service/video-service.ts","../../src/providers/notifications-service/notifications-service.ts"],"names":[],"mappings":"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UAAS,GAAW;QAChB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QAC5B,6CAA6C;QAC7C,wBAAwB;QACxB,4BAA4B;QAC5B,QAAQ;IACV,CAAC;IAED,uBAAI,GAAJ;QACE,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACpC,CAAC;IAED,sBAAI,iCAAW;aAAf;YACE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACvB,CAAC;;;OAAA;IAED,wBAAK,GAAL;QAAA,iBAIC;QAHC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;YACxC,KAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;QACxB,CAAC,CAAC;IACJ,CAAC;IACH,eAAC;AAAD,CAAC;AAvEY,QAAQ;IADpB,yEAAU,EAAE;qCASiB,+DAAO;GARxB,QAAQ,CAuEpB;AAvEoB;;;;;;;;ACRrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9P2C;AACN;AACN;AACS;AACY;AACX;AAC0B;AACY;AACrC;AACZ;AACH;AACoC;AACf;AAIhD,IAAa,eAAe;IAOxB,yBACW,GAAa,EACb,IAAU,EACV,OAAgB,EAChB,EAAuB,EACtB,QAAsB,EACtB,IAAU,EACX,QAAkB,EACjB,cAA8B,EAC9B,OAAgB;QAT5B,iBAiFC;QAhFU,QAAG,GAAH,GAAG,CAAU;QACb,SAAI,GAAJ,IAAI,CAAM;QACV,YAAO,GAAP,OAAO,CAAS;QAChB,OAAE,GAAF,EAAE,CAAqB;QACtB,aAAQ,GAAR,QAAQ,CAAc;QACtB,SAAI,GAAJ,IAAI,CAAM;QACX,aAAQ,GAAR,QAAQ,CAAU;QACjB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,YAAO,GAAP,OAAO,CAAS;QAX5B,eAAU,GAAY,KAAK,CAAC;QAC5B,aAAQ,GAAW,kCAAkC,CAAC;QAWlD,iCAAiC;QACjC,IAAI,sBAAsB,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC,SAAS,CAAC;YAC/D,OAAO,CAAC,GAAG,CAAC,8BAA8B,CAAC,CAAC;YAC5C,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,KAAI,CAAC,eAAe,EAAE,CAAC;QAC3B,CAAC,CAAC,CAAC;QACH,IAAI,mBAAmB,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC,SAAS,CAAC;YACzD,OAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;YAClC,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,KAAI,CAAC,gBAAgB,EAAE,CAAC;QAC5B,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QACrB,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;QAChD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;QAC3C,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC,IAAI,CAAC,0BAAgB;YACtD,EAAE,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC;gBACnB,KAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;YAE7C,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,KAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;YAC/B,CAAC;QACL,CAAC,CAAC;QACF,2CAA2C;QAC3C,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,+CAA+C;QAC/C,IAAI,CAAC,CAAC,GAAG,oDAAK,CAAC,UAAU,IAAS,EAAE,QAAQ;YACxC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC,CAAC,IAAI,CAAC,gBAAM;gBACtE,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gBAClC,QAAQ,EAAE,CAAC;YACf,CAAC,CAAC,CAAC,KAAK,CAAC,aAAG;gBACR,mBAAmB;gBACnB,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,kBAAQ;oBAEjC,IAAI,OAAO,GAAG,QAAQ,CAAC,MAAM,GAAG,QAAQ,CAAC,KAAK,GAAG,GAAG,CAAC;oBACrD,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;oBAC9B,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,OAAO,GAAG,OAAO,CAAC;gBACrD,CAAC,CAAC;gBAEF,IAAI,CAAC,YAAY,CAAC,QAAQ,CACtB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAE,GAAG,MAAM,EAChC,IAAI,CAAC,IAAI,CAAC,aAAa,GAAG,MAAM,GAAG,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC;qBACnD,IAAI,CAAC,cAAI;oBACN,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,GAAG,MAAM,EAAE,IAAI,CAAC,EAAE,GAAG,MAAM,EACjE,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC,CAAC,IAAI,CAAC,eAAK;wBACjD,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBAClC,QAAQ,EAAE,CAAC;oBACf,CAAC,CAAC,CAAC,KAAK,CAAC,aAAG;wBACR,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC;wBACjD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBAC5B,QAAQ,EAAE,CAAC;oBAEf,CAAC,CAAC;gBAEV,CAAC,CAAC;qBACD,KAAK,CAAC,aAAG;oBACN,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC;oBACjD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;oBAC5B,QAAQ,EAAE,CAAC;gBACf,CAAC,CAAC,CAAC;YACX,CAAC,CAAC;QAGN,CAAC,EAAE,CAAC,CAAC,CAAC;QACN,oBAAoB;QACpB,IAAI,CAAC,CAAC,CAAC,KAAK,GAAG;YACX,oDAAoD;YACpD,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC;YAC9B,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;QACjD,CAAC,CAAC;IAEN,CAAC;IACD,4CAAkB,GAAlB;QACI,MAAM,CAAC,+CAAQ,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;IACjE,CAAC;IACD,0CAAgB,GAAhB;QACI,MAAM,CAAC,+CAAQ,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;IAChE,CAAC;IACD,oCAAU,GAAV,UAAW,EAAE;QACT,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC,OAAO;IAC5C,CAAC;IACD,qCAAW,GAAX,UAAY,EAAE;QACV,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,GAAG,EAAE,GAAG,MAAM,CAAC;IACjD,CAAC;IACD,oCAAU,GAAV,UAAW,EAAE;QACT,MAAM,CAAC,IAAI,CAAC,QAAQ,GAAG,EAAE,GAAG,MAAM,CAAC;IACvC,CAAC;IACD,6CAAmB,GAAnB,UAAoB,EAAE;QAClB,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YAC5B,IAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC;QAChD,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,GAAG,EAAE;YAC9B,IAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC;QAChD,CAAC;QAED,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAAC,gBAAgB,CAAC;IAC/D,CAAC;IACD,uCAAa,GAAb,UAAc,EAAE;QACZ,oBAAoB;QACpB,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,WAAW,EAAE,IAAI,IAAI,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;YAChE,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,UAAC,IAAI,EAAE,QAAQ;gBACzB,MAAM,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,CAAC;YACzB,CAAC,CAAC;YACF,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;QAE9B,CAAC;IAEL,CAAC;IACD,0CAAgB,GAAhB;QACI,IAAI,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;IACnB,CAAC;IACD,2CAAiB,GAAjB;QACI,IAAI,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC;IACpB,CAAC;IACD,oCAAU,GAAV,UAAW,EAAE,EAAE,IAAI;QACf,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YAC7B,IAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,GAAG,EAAE;QAClC,CAAC;QACD,IAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC,UAAU,GAAG,KAAK,CAAC;QAC7C,IAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE;QACjC,IAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC;QACtC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YACP,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,UAAU,GAAG;gBACpC,OAAO,CAAC,GAAG,CAAC,sBAAsB,GAAG,EAAE,CAAC,CAAC;YAC7C,CAAC,CAAC,CAAC;QACP,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,UAAU,GAAG;gBACjC,OAAO,CAAC,GAAG,CAAC,uBAAuB,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;YACnD,CAAC,CAAC,CAAC;QACP,CAAC;IAEL,CAAC;IACD,0CAAgB,GAAhB;QAAA,iBAiBC;QAhBG,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,iBAAiB,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC;YAC1D,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC;YAC7B,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,qBAAW;gBAC5C,KAAI,CAAC,EAAE,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,cAAI;oBAC9C,8BAA8B;oBAC9B,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,eAAK;wBACrB,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,EAAE,KAAK,CAAC;oBACpC,CAAC,CAAC,CAAC;oBACH,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,OAAO,CAAC,eAAK;wBACxC,KAAI,CAAC,UAAU,CAAC,KAAK,EAAE,KAAK,CAAC;oBACjC,CAAC,CAAC,CAAC;gBAEP,CAAC,CAAC;YACN,CAAC,CAAC;QAEN,CAAC;IACL,CAAC;IACD,yCAAe,GAAf;QACI,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;QACd,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC;IAClC,CAAC;IACD,sCAAY,GAAZ,UAAa,EAAE;QACX,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC,UAAU,CAAC;IAChD,CAAC;IACL,sBAAC;AAAD,CAAC;AA9KY,eAAe;IAF3B,yEAAU,EAAE;qCAUO,+DAAQ;QACP,2DAAI;QACD,+DAAO;QACZ,uFAAmB;QACZ,iFAAY;QAChB,gEAAI;QACD,qEAAQ;QACD,sFAAc;QACrB,uEAAO;GAhBnB,eAAe,CA8K3B;AA9K2B;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBc;AACiC;AAC7B;AACW;AACM;AACN;AACuB;AACvC;AACW;AAKpD,IAAa,kBAAkB;IAQ7B,4BAAmB,OAAsB,EACtB,SAAoB,EACpB,EAAuB,EACtB,OAAgB,EAChB,SAA0B,EAC1B,QAAkB;QALtC,iBAaC;QAbkB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,OAAE,GAAF,EAAE,CAAqB;QACtB,YAAO,GAAP,OAAO,CAAS;QAChB,cAAS,GAAT,SAAS,CAAiB;QAC1B,aAAQ,GAAR,QAAQ,CAAU;QAXtC,iBAAY,GAAQ,kEAAU,CAAC;QAC/B,iBAAY,GAAQ,6EAAa,CAAC;QAClC,uBAAkB,GAAQ,mFAAe,CAAC;QAC1C,qBAAgB,GAAQ,6EAAa,CAAC;QAEtC,UAAK,GAAM,SAAS,CAAC;QAOP,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;QACjC,IAAI,CAAC,EAAE,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,UAAC,IAAI;YACnE,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,0BAA0B;YAC1B,4DAA4D;QAC9D,CAAC,CAAC,CAAC;IAEP,CAAC;IAED,4CAAe,GAAf;QAAA,iBA8BC;QA5BC,MAAM,CAAC,IAAI,OAAO,CAAC,iBAAO;YACxB,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,IAAI,CAAC;YACtB,EAAE,EAAC,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,EAAC;gBACtC,OAAO,CAAC,IAAI,CAAC,CAAC;gBACd,eAAe;YACjB,CAAC;YAAA,IAAI,EAAC;gBACJ,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;oBACxC,EAAE,EAAC,KAAI,CAAC,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC,EAAC;wBAC7B,IAAI,OAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;4BAChC,KAAK,EAAE,yCAAyC;4BAChD,QAAQ,EAAE,kBAAkB,GAAG,IAAI,GAAG,gCAAgC;4BACtE,OAAO,EAAE,CAAC,IAAI,CAAC;yBAChB,CAAC,CAAC;wBACH,OAAK,CAAC,OAAO,EAAE,CAAC;wBAChB,OAAO,CAAC,KAAK,CAAC,CAAC;wBACf,gBAAgB;oBAClB,CAAC;oBAAA,IAAI,EAAC;wBACJ,OAAO,CAAC,IAAI,CAAC,CAAC;wBACd,eAAe;wBAEf,oDAAoD;wBACpD,yBAAyB;oBAC3B,CAAC;gBACH,CAAC,CAAC;YACJ,CAAC;YACD,wBAAwB;YACxB,kBAAkB;QACtB,CAAC,CAAC;IACF,CAAC;IAGH,yBAAC;AAAD,CAAC;AAxDY,kBAAkB;IAJ9B,wEAAS,CAAC;QACT,QAAQ,EAAE,sBAAsB;OACG;KACpC,CAAC;yEASyC;QACX,iGAAS;QAChB,gEAAmB;QACb,sEAAO;QACL,uEAAe;QAChB,QAAQ;AA2CvC;SAxDY,kBAAkB,gB;;;;;;;;;;;;;;;;;;;;;;;;;;;ACbY;AACN;AACN;AACS;AACY;AACuB;AACJ;AACe;AAKtF,IAAa,YAAY;IAOrB,sBAAmB,GAAa,EACpB,QAAkB,EACnB,IAAU,EACV,OAAgB,EAChB,eAAgC,EAChC,SAA0B,EAC1B,SAA0B,EACzB,cAA8B;QAP1C,iBAYC;QAZkB,QAAG,GAAH,GAAG,CAAU;QACpB,aAAQ,GAAR,QAAQ,CAAU;QACnB,SAAI,GAAJ,IAAI,CAAM;QACV,YAAO,GAAP,OAAO,CAAS;QAChB,oBAAe,GAAf,eAAe,CAAiB;QAChC,cAAS,GAAT,SAAS,CAAiB;QAC1B,cAAS,GAAT,SAAS,CAAiB;QACzB,mBAAc,GAAd,cAAc,CAAgB;QAZ1C,iBAAY,GAA0B;YAClC,eAAe,EAAE,cAAQ,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,EAAC,CAAC;YACtD,aAAa,EAAE,UAAC,CAAC,IAAO,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,EAAC,CAAC;YACxD,WAAW,EAAE,WAAW;SAC3B,CAAC;QASE,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC;YACtB,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,QAAQ,CAAC,WAAW,CAAC;QAC7C,CAAC,CAAC;QACF,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC;IAC7C,CAAC;IAED,gCAAS,GAAT,UAAU,EAAE;QAAZ,iBAgCC;QA9BG,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,iBAAiB,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC;YAC1D,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;gBACxC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;YACvB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,OAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oBAC9B,KAAK,EAAE,oBAAoB;oBAC3B,QAAQ,EAAE,0CAA0C;oBACpD,OAAO,EAAE,mFAAmF;oBAC5F,OAAO,EAAE;wBAEL;4BACI,IAAI,EAAE,QAAQ;4BACd,OAAO,EAAE;gCACL,KAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;4BACxB,CAAC;yBACJ,EAAE;4BACC,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,QAAQ;4BACd,OAAO,EAAE;gCACL,KAAI,CAAC,eAAe,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;4BAC3C,CAAC;yBACJ;qBACJ;iBACJ,CAAC,CAAC;gBACH,OAAK,CAAC,OAAO,EAAE,CAAC;YACpB,CAAC;QACL,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;YACpB,kFAAkF;QACtF,CAAC;IACL,CAAC;IACD,gCAAS,GAAT,UAAU,EAAE;QAER,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IAE3F,CAAC;IACD,iCAAU,GAAV,UAAW,EAAE;QAET,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IAE1F,CAAC;IAEL,mBAAC;AAAD,CAAC;AAjEY,YAAY;IAFxB,yEAAU,EAAE;qCASe,+DAAQ;QACV,qEAAQ;QACb,2DAAI;QACD,+DAAO;QACC,2FAAe;QACrB,sEAAe;QACf,sEAAe;QACT,qFAAc;GAdjC,YAAY,CAiExB;AAjEwB;;;;;;;;;;;;;;;;;;;;;;;;;;ACZkB;AACK;AACR;AACC;AAC0B;AACI;AACvC;AAGhC,IAAa,oBAAoB;IAE7B,8BACW,QAAkB,EACjB,kBAAsC,EACvC,OAAgB,EAChB,EAAuB,EACvB,SAA0B;QAJ1B,aAAQ,GAAR,QAAQ,CAAU;QACjB,uBAAkB,GAAlB,kBAAkB,CAAoB;QACvC,YAAO,GAAP,OAAO,CAAS;QAChB,OAAE,GAAF,EAAE,CAAqB;QACvB,cAAS,GAAT,SAAS,CAAiB;IAErC,CAAC;IACD,sDAAuB,GAAvB;QAAA,iBAsCC;QArCG,IAAI,IAAI,GAAG,IAAI;QACf,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,cAAI;YACnC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACP,KAAI,CAAC,kBAAkB,CAAC,eAAe,EAAE,CAAC,IAAI,CAAC,WAAC;oBAC5C,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;gBAClB,CAAC,CAAC;gBACF,IAAI,SAAO,GAAG,oCAAM,CAAC,IAAI,CAAC;gBAC1B,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,IAAI,CAAC,6BAAmB;oBAE5D,EAAE,CAAC,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC;wBACvB,IAAI,CAAC,kBAAkB,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,oBAAU;4BAEnD,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;gCACd,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,EAAE,CAAC,IAAI,CAAC,iBAAO;oCACrD,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;wCACV,IAAI,CAAC,qBAAqB,CAAC,SAAO,CAAC,CAAC;oCACxC,CAAC;oCAAC,IAAI,CAAC,CAAC;wCACJ,IAAI,OAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;4CAC9B,KAAK,EAAE,wBAAwB;4CAC/B,QAAQ,EAAE,uDAAuD;4CACjE,OAAO,EAAE,CAAC,IAAI,CAAC;yCAClB,CAAC,CAAC;wCACH,OAAK,CAAC,OAAO,EAAE,CAAC;wCAChB,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;oCAElD,CAAC;gCACL,CAAC,CAAC;4BACN,CAAC;4BAAC,IAAI,CAAC,CAAC;gCACJ,IAAI,CAAC,qBAAqB,CAAC,SAAO,CAAC,CAAC;4BACxC,CAAC;wBACL,CAAC,CAAC;oBAEN,CAAC;gBAEL,CAAC,CAAC;YACN,CAAC;QACL,CAAC,CAAC;IACN,CAAC;IACD,mDAAoB,GAApB;QAAA,iBAKC;QAJG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,KAAK,CAAC,CAAC,IAAI,CAAC;YAChD,KAAI,CAAC,kBAAkB,CAAC,SAAS,EAAE,CAAC;QAExC,CAAC,CAAC;IACN,CAAC;IAED,oDAAqB,GAArB,UAAsB,OAAO;QACzB,gCAAgC;QADpC,iBAqBC;QAlBG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,qBAAW;YAC5C,0BAA0B;YAC1B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,WAAW,EAAE,CAAC,IAAI,EAAE,GAAG,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC;gBACnD,iCAAiC;gBACjC,IAAI,UAAU,GAAG,oCAAM,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;gBACjD,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACnB,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBACrB,0BAA0B;gBAC1B,KAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC;oBAC7B,EAAE,EAAE,CAAC,GAAG,CAAC;oBACT,KAAK,EAAE,qBAAqB;oBAC5B,IAAI,EAAE,gBAAgB,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,wBAAwB;oBAC3D,EAAE,EAAE,UAAU,CAAC,MAAM,EAAE;iBAC1B,CAAC,CAAC;YAEP,CAAC;YACD,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;QAClD,CAAC,CAAC;IACN,CAAC;IAEL,2BAAC;AAAD,CAAC;AA/EY,oBAAoB;IAFhC,yEAAU,EAAE;qCAKY,+DAAQ;QACG,6FAAkB;QAC9B,+DAAO;QACZ,uFAAmB;QACZ,sEAAe;GAP5B,oBAAoB,CA+EhC;AA/EgC","file":"main.js","sourcesContent":["import { Component, ViewChild  } from '@angular/core';\r\nimport { NavController, NavParams, ToastController ,Content, AlertController   } from 'ionic-angular';\r\nimport { FileServiceProvider } from \"../../providers/file-service/file-service\";\r\nimport { SocialSharing } from '@ionic-native/social-sharing';\r\n\r\n@Component({\r\n  selector: 'page-word-list',\r\n  templateUrl: 'word-list.html',\r\n})\r\nexport class WordListPage {\r\n  @ViewChild(Content) content: Content;\r\n  wordList: any;\r\n  WordListSegment: string = 'AllWords';\r\n  savedWords: any;\r\n  WordListO: any;\r\n  category: any = null;\r\n  sortedWordList: any;\r\n  savedWordList: any;\r\n  ready: boolean = false;\r\n  searching: boolean = false;\r\n  constructor(public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public fs: FileServiceProvider,\r\n    public toastCtrl: ToastController,\r\n    private alertCtrl: AlertController,\r\n    private socialSharing: SocialSharing ) {\r\n    // this.fs.loadWordList();\r\n    this.fs.getWordList().subscribe(data => {\r\n      this.wordList = data;\r\n      this.WordListO = data;\r\n      this.generateSortedWordList();\r\n      // array.forEach(element => {\r\n      // this.resetFilteredWordList();\r\n      // });\r\n\r\n    })\r\n    this.fs.loadSavedWordList().then(() => {\r\n      this.savedWordList = this.fs.getSavedWordList();\r\n    })\r\n    if (typeof this.navParams.data === 'string' || this.navParams.data instanceof String) {\r\n      this.category = this.navParams.data;\r\n    }\r\n\r\n  }\r\n  resetFilteredWordList() {\r\n    // this.WordListO = [];\r\n    this.wordList = [];\r\n    Object.keys(this.WordListO).forEach(key => {\r\n      this.wordList[key] = this.WordListO[key];\r\n    })\r\n  }\r\n  shareWords(){\r\n    let savedWordsString = \"\";\r\n    Object.keys(this.savedWordList).forEach(word => {\r\n      savedWordsString += word + \",\\n\" \r\n    })\r\n    savedWordsString = savedWordsString.trim().slice(0, -1);\r\n    this.socialSharing.share(savedWordsString, \"My child can say\", null,null)\r\n\r\n  }\r\n  presentPromptCustomWord() {\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Custom Word',\r\n      subTitle: 'Add a custom work to add to your library',\r\n      inputs: [\r\n        {\r\n          name: 'word',\r\n          placeholder: 'Custom word'\r\n        }\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n          handler: data => {\r\n            //console.log('Cancel clicked');\r\n          }\r\n        },\r\n        {\r\n          text: 'Save',\r\n          handler: data => {\r\n            console.log(data);\r\n            if (data.word.length > 0) {\r\n              // logged in!\r\n              \r\n              this.addToSavedWordList(data.word);\r\n              return true;\r\n            } else {\r\n              // invalid login\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n  generateSortedWordList() {\r\n    this.sortedWordList = [];\r\n    Object.keys(this.WordListO).forEach(key => {\r\n      this.WordListO[key].forEach(element => {\r\n        this.sortedWordList.push({word: element, category: key});\r\n      });\r\n    })\r\n    this.sortedWordList.sort(function (a, b) {\r\n      a = a.word.toLowerCase();\r\n      b = b.word.toLowerCase();\r\n      if (a == b) return 0;\r\n      return a < b ? -1 : 1;\r\n    });\r\n    this.ready = true;\r\n  }\r\n  addToSavedWordList(word){\r\n    var displayDate = new Date().toLocaleDateString('en-GB');\r\n    let toast;\r\n    if (!this.savedWordList[word]) {\r\n      this.savedWordList[word] = { \"date\": displayDate }\r\n      this.savedWordList = this.sortObject(this.savedWordList);\r\n      toast = this.toastCtrl.create({\r\n        message: word + ' saved to word list',\r\n        duration: 2000,\r\n        position: 'bottom'\r\n      });\r\n    \r\n      \r\n    } else {\r\n      toast = this.toastCtrl.create({\r\n        message: word + ' already in saved word list',\r\n        duration: 2000,\r\n        position: 'bottom'\r\n      });\r\n      //delete this.savedWordList[word];\r\n    }\r\n    toast.present();\r\n    this.fs.setSavedWordList(this.savedWordList);\r\n  }\r\n  sortObject(obj) {\r\n    return Object.keys(obj).sort().reduce(function (result, key) {\r\n        result[key] = obj[key];\r\n        return result;\r\n    }, {});\r\n}\r\n  removeFromSavedWordList(word, item){\r\n    if(this.savedWordList[word]){\r\n      delete this.savedWordList[word];\r\n      this.fs.setSavedWordList(this.savedWordList);\r\n      item.close();\r\n    }\r\n  }\r\n  isSavedWord(word){\r\n    if(this.savedWordList[word]){\r\n      return true;\r\n    }else{\r\n      return false;\r\n    }\r\n  }\r\n  updateSavedWordList(word) {\r\n    if (!this.savedWordList[word]) {\r\n      this.savedWordList[word] = { \"checked\": true }\r\n    } else {\r\n      delete this.savedWordList[word];\r\n    }\r\n    this.fs.setSavedWordList(this.savedWordList);\r\n  }\r\n  filterItems(ev: any) {\r\n    // this.resetFilteredWordList();\r\n    //deep copy here\r\n    // this.wordList = Object.assign(this.wordList, this.WordListO);\r\n    this.resetFilteredWordList();\r\n    let val = ev.target.value;\r\n    if (val && val.trim() !== '') {\r\n      Object.keys(this.wordList).forEach(key => {\r\n        this.wordList[key] = this.wordList[key].filter((item) => {\r\n          return (item.toLowerCase().indexOf(val.toLowerCase()) > -1);\r\n        });\r\n        if (this.wordList[key].length == 0) {\r\n          delete this.wordList[key];\r\n        }\r\n      })\r\n\r\n      // this.filteredWordList = this.filteredWordList.filter((item) => {\r\n      //   return (item.toLowerCase().indexOf(val.toLowerCase()) > -1);\r\n      // });\r\n    }\r\n    // if(!this.filteredSigns){\r\n    //   return filte\r\n    // }\r\n  }\r\n  filterItemsSorted(ev: any) {\r\n    // this.resetFilteredWordList();\r\n    //deep copy here\r\n    // this.wordList = Object.assign(this.wordList, this.WordListO);\r\n    this.generateSortedWordList();\r\n    let val = ev.target.value;\r\n    if (val && val.trim() !== '') {\r\n      this.searching = true;\r\n      this.sortedWordList = this.sortedWordList.filter((item) => {\r\n        return (item.word.toLowerCase().indexOf(val.toLowerCase()) > -1);\r\n      });\r\n\r\n\r\n      // this.filteredWordList = this.filteredWordList.filter((item) => {\r\n      //   return (item.toLowerCase().indexOf(val.toLowerCase()) > -1);\r\n      // });\r\n    } else {\r\n      this.searching = false;\r\n    }\r\n    // if(!this.filteredSigns){\r\n    //   return filte\r\n    // }\r\n  }\r\n  // showWordPopup(word) {\r\n  //   let alert = this.alertCtrl.create({\r\n  //     title: word,\r\n  //     subTitle: \"Does your child understand and/or says this word?\",\r\n  //     inputs: [{\r\n  //       type: 'checkbox',\r\n  //       label: 'Understands',\r\n  //       value: 'understands',\r\n  //       checked: true\r\n  //     }, {\r\n  //       type: 'checkbox',\r\n  //       label: 'Says',\r\n  //       value: 'says'\r\n  //     }],\r\n  //     buttons: [{\r\n  //       text: 'Save',\r\n  //       handler: data => {\r\n  //         this.fs.getProgress().then(data => {\r\n  //           console.log(data)\r\n  //         })\r\n  //       }\r\n  //     }]\r\n  //   });\r\n  //   alert.present();\r\n  // }\r\n  \r\n  segmentChanged(event){\r\n    this.content.resize();\r\n  }\r\n  viewCategory(key) {\r\n    this.navCtrl.push(WordListPage, key)\r\n  }\r\n  // initializeWordList(){\r\n  //   let init = [];\r\n  //   this.savedWords = init;\r\n  //   this.storage.set('settings', this.settings);\r\n  // }\r\n  ionViewWillLeave() {\r\n    if (this.category) {\r\n      this.category = null;\r\n      console.log(this.category)\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/word-list/word-list.ts","import { Component } from '@angular/core';\r\nimport { NavController  } from 'ionic-angular';\r\nimport { FileServiceProvider } from \"../../providers/file-service/file-service\";\r\nimport { VideoService } from '../../providers/video-service/video-service';\r\n// import { StreamingMedia, StreamingVideoOptions } from '@ionic-native/streaming-media';\r\n\r\n\r\n@Component({\r\n  selector: 'page-key-word-signs',\r\n  templateUrl: 'key-word-signs.html'\r\n})\r\nexport class KeyWordSignsPage {\r\n  signs: any;\r\n  signsO: any = [];\r\n  filteredSigns: any = [];\r\n  filteredSignsChunks: any = [];\r\n  video: any;\r\n  constructor(public navCtrl: NavController, public fs: FileServiceProvider, public videoService: VideoService) {\r\n     // Show the loading message\r\n    // let loadingPopup = this.loadingCtrl.create({\r\n    //   content: 'Loading posts...'\r\n    // });\r\n    // loadingPopup.present();\r\n    fs.getKeyWordSigns().subscribe((data) => {\r\n      this.signs = data;\r\n      this.signsO = data;\r\n      // this.createFilteredKeyWordArray();\r\n      //this.filteredSigns = this.signs;\r\n      \r\n      // while (this.signs.length > 0){\r\n      //   this.signsChunks.push(this.signs.splice(0, 2));\r\n      // }\r\n      // this.filteredSignsChunks = this.signsChunks;\r\n      // loadingPopup.dismiss();\r\n    });\r\n    \r\n    \r\n    \r\n  }\r\n  playVideo(id){\r\n    this.videoService.playVideo(id);\r\n    // let video:any;\r\n    // video = document.getElementById(id);\r\n    // if (video.requestFullscreen) {\r\n    //   video.requestFullscreen();\r\n    // } else if (video.mozRequestFullScreen) {\r\n    //   video.mozRequestFullScreen();\r\n    // } else if (video.webkitRequestFullscreen) {\r\n    //   video.webkitRequestFullscreen();\r\n    // }\r\n    // video.play();\r\n  }\r\n watched(video, event){\r\n    event.target.webkitExitFullScreen();\r\n  }\r\n  createFilteredKeyWordArray(){\r\n    this.filteredSigns = []; \r\n    Object.keys(this.signs).forEach(key => {\r\n      this.filteredSigns.push(key);\r\n    });\r\n  }\r\n   filterItems(ev: any) {\r\n    this.signs = this.signsO;\r\n    // this.createFilteredKeyWordArray();\r\n    let val = ev.target.value;\r\n    if (val && val.trim() !== '') {\r\n      this.signs = this.signs.filter((item) => {\r\n          return (item.toLowerCase().indexOf(val.toLowerCase()) > -1);\r\n        });\r\n    }\r\n    // if(!this.filteredSigns){\r\n    //   return filte\r\n    // }\r\n  }\r\n  ionViewDidLoad(){\r\n    this.video = document.getElementById('vid');\r\n  }\r\n  \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/key-word-signs/key-word-signs.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 152;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 152\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 195;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 195\n// module chunks = 0","import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\nimport { Storage } from '@ionic/storage'\r\n\r\n@Injectable()\r\nexport class FileServiceProvider {\r\n  data: any;\r\n  activePage: any;\r\n  currentWeek: number;\r\n  savedWordList: any;\r\n  constructor(public http: Http,public storage: Storage) {\r\n    this.data = null;\r\n    // console.log('Hello FileServiceProvider Provider');\r\n  }\r\n  getData(file) {\r\n    return this.http.get(file)\r\n      .map(res => res.json());\r\n  }\r\n  getWeekContent(week) {\r\n    return this.http.get('assets/data/weeks/week'+week+'.json')\r\n      .map(res => res.json());\r\n  }\r\n  getKeyWordSigns(){\r\n    return this.http.get('assets/data/key-word-signs.json')\r\n      .map(res => res.json());\r\n  }\r\n  getKeyWordSignObject(keyWordArray){\r\n    return this.http.get('assets/data/key-word-signs.json')\r\n      .map(res => {\r\n        let data = res.json();\r\n        let listWords = [];\r\n        for (var index = 0; index < data.length; index++) {\r\n          if(keyWordArray.includes(data[index].word)){\r\n            listWords.push(data[index]);\r\n          }\r\n          //handle keywords not found in keyword list here\r\n        }\r\n      return listWords;\r\n        // return res.json()\r\n      });\r\n  }\r\n  findKeyWordSign(keyWord){\r\n    \r\n  }\r\n  getWordList(){\r\n    return this.http.get('assets/data/word-list.json')\r\n      .map(res => res.json());\r\n  }\r\n    //word list service\r\n  getSavedWordList(){\r\n    return this.savedWordList;\r\n  }\r\n  loadSavedWordList(){\r\n    \r\n    return this.storage.get('savedWordList').then(data => {\r\n      if(data){\r\n        this.savedWordList = data;\r\n      }else{\r\n        this.savedWordList = {};\r\n        this.storage.set('savedWordList', this.savedWordList);\r\n      }\r\n    });\r\n  }\r\n  setSavedWordList(wordList){\r\n    this.savedWordList = wordList;\r\n    this.storage.set('savedWordList', this.savedWordList);\r\n  }\r\n  getActivePage(){\r\n    return this.activePage;\r\n  }\r\n  setActivePage(page){\r\n    this.activePage = page;\r\n  }\r\n  getCurrentWeek(){\r\n    return this.currentWeek;\r\n  }\r\n  setCurrentWeek(week){\r\n    this.currentWeek = week;\r\n  }\r\n  getProgress(progress?){\r\n    return new Promise(resolve => {\r\n      if(progress){\r\n        this.storage.get('progress').then(data => {\r\n          resolve(data[progress]);\r\n        })\r\n      }else{\r\n        resolve(this.storage.get('progress'));\r\n      }\r\n    })\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/file-service/file-service.ts","import { Component, ViewChild, Pipe, PipeTransform } from '@angular/core';\r\nimport { Nav, Platform, MenuController, AlertController } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport * as moment from 'moment';\r\nimport { HomePage } from '../pages/home/home';\r\nimport { TutorialPage } from '../pages/tutorial/tutorial';\r\nimport { TabsControllerPage } from '../pages/tabs-controller/tabs-controller';\r\nimport { TenWeekProgramPage } from '../pages/ten-week-program/ten-week-program'\r\nimport { KeyWordSignsPage } from '../pages/key-word-signs/key-word-signs'\r\nimport { WordListPage } from \"../pages/word-list/word-list\";\r\nimport { SettingsPage } from \"../pages/settings/settings\";\r\nimport { Storage } from '@ionic/storage';\r\nimport { LocalNotifications } from '@ionic-native/local-notifications';\r\nimport { FileServiceProvider } from \"../providers/file-service/file-service\";\r\nimport { Settings } from \"../providers/settings\";\r\nimport { NotificationsService } from '../providers/notifications-service/notifications-service';\r\nimport { DownloadService } from '../providers/download-service/download-service';\r\nexport interface PageInterface {\r\n  title: string;\r\n  component: any;\r\n  weekPage?: any;\r\n\r\n}\r\n@Pipe({\r\n  name: 'chunks'\r\n})\r\nexport class ChunksPipe implements PipeTransform {\r\n  transform(arr: any, chunkSize: number) {\r\n    return arr.reduce((prev, cur, index) => (index % chunkSize) ? prev : prev.concat([arr.slice(index, index + chunkSize)]), []);\r\n  }\r\n}\r\n@Pipe({\r\n  name: 'object'\r\n})\r\nexport class ObjectPipe implements PipeTransform {\r\n  transform(value: any, args: any[] = null): any {\r\n    return Object.keys(value).map(key => Object.assign({ key }, value[key]));\r\n  }\r\n}\r\n@Pipe({ name: 'keys', pure: false })\r\nexport class KeysPipe implements PipeTransform {\r\n  transform(value: any, args: any[] = null): any {\r\n    return Object.keys(value)//.map(key => value[key]);\r\n  }\r\n}\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\n\r\n\r\nexport class Talkable {\r\n  @ViewChild(Nav) nav: Nav;\r\n  rootPage: any;\r\n  activePage: any;\r\n  pageReady: boolean = false;\r\n  // weeklyPages: PageInterface[] = [\r\n  //   { title: 'Week 1', component: TabsControllerPage, weekPage: 1 }\r\n  // ];\r\n\r\n  programPages: Array<{\r\n    id: string,\r\n    title: string,\r\n    component: any\r\n    icon?: String,\r\n    param?: any\r\n  }>;\r\n  wordPages: Array<{\r\n    id: string,\r\n    title: string,\r\n    component: any\r\n    icon?: String\r\n  }>;\r\n  settingsPages: Array<{\r\n    id: string,\r\n    title: string,\r\n    component: any\r\n    icon?: String\r\n  }>;\r\n  constructor(public platform: Platform,\r\n    public statusBar: StatusBar,\r\n    public splashScreen: SplashScreen,\r\n    private storage: Storage,\r\n    public fs: FileServiceProvider,\r\n    public menuCtrl: MenuController,\r\n    public settings: Settings,\r\n    public alertCtrl: AlertController,\r\n    private localNotifications: LocalNotifications,\r\n  public notificationsService: NotificationsService,\r\n  public downloadService: DownloadService) {\r\n    // Check if the user has already seen the tutorial\r\n    this.storage.get('startedOn').then(date => {\r\n      if (date) {\r\n\r\n        let started = moment(date)\r\n        \r\n\r\n        let now = moment();\r\n        let timediff = now.diff(started, 'week') + 1\r\n        //multiple of 7 (aka a week)\r\n        if (timediff > 0) {\r\n          storage.get('currentWeek').then(currentWeek => {\r\n            console.log(currentWeek)\r\n            if (parseInt(currentWeek) <= 10 && timediff > parseInt(currentWeek)) {\r\n              if (timediff > 10) {\r\n                timediff = 10;\r\n              }\r\n              \r\n              this.storage.set('currentWeek', timediff);\r\n              this.localNotifications.cancel(timediff);\r\n              let alert = this.alertCtrl.create({\r\n                title: 'New Content',\r\n                subTitle: 'New weekly content has been unlocked!<br>You are now on week ' + timediff,\r\n                buttons: ['Awesome!']\r\n              });\r\n              alert.present();\r\n            }\r\n          });\r\n        }\r\n      }\r\n\r\n    })\r\n    this.storage.get('currentWeek').then((data) => {\r\n      if (data) {\r\n        this.programPages[0].param = data;\r\n        if (data > 10) {\r\n          this.storage.set('currentWeek', 10);\r\n          this.programPages[0].param = 10;\r\n        }\r\n      }\r\n\r\n    })\r\n    // used for an example of ngFor and navigation\r\n    this.programPages = [\r\n      { id: 'CurrentWeekPage', title: 'Current Week', component: TabsControllerPage, icon: \"talkable-current\", param: 1 },\r\n      { id: 'TenWeekProgramPage', title: 'Entire Program', component: TenWeekProgramPage, icon: \"talkable-overview\" },\r\n    ];\r\n    this.wordPages = [\r\n      { id: 'KeyWordSignsPage', title: 'Key Word Signs', component: KeyWordSignsPage, icon: \"talkable-key\" },\r\n      { id: \"WordListPage\", title: 'Word Tracker', component: WordListPage, icon: \"talkable-word-tracker\" },\r\n      // { id: \"WordListPage\", title: 'Word Tracker', component: WordListPage, icon: \"ios-clipboard-outline\" },\r\n    ];\r\n    this.settingsPages = [\r\n      { id: \"SettingsPage\", title: 'Settings', component: SettingsPage, icon: \"talkable-settings\" }\r\n    ];\r\n    this.storage.get('hasSeenTutorial')\r\n      .then((hasSeenTutorial) => {\r\n        if (hasSeenTutorial) {\r\n          this.rootPage = HomePage;\r\n        } else {\r\n          this.rootPage = TutorialPage;\r\n        }\r\n        this.initializeApp();\r\n      });\r\n    // this.weeklyPages = [\r\n    //   { id: 'weeklyPage1', title: 'Week 1', component: TabsControllerPage, param: 1 },\r\n    //   { id: 'weeklyPage2', title: 'Week 2', component: TabsControllerPage, param: 2 },\r\n    //   { id: 'weeklyPage3', title: 'Week 3', component: TabsControllerPage, param: 3 },\r\n    //   { id: 'weeklyPage4', title: 'Week 4', component: TabsControllerPage, param: 4 },\r\n    //   { id: 'weeklyPage5', title: 'Week 5', component: TabsControllerPage, param: 5 },\r\n    //   { id: 'weeklyPage6', title: 'Week 6', component: TabsControllerPage, param: 6 },\r\n    //   { id: 'weeklyPage7', title: 'Week 7', component: TabsControllerPage, param: 7 },\r\n    //   { id: 'weeklyPage8', title: 'Week 8', component: TabsControllerPage, param: 8 },\r\n    //   { id: 'weeklyPage9', title: 'Week 9', component: TabsControllerPage, param: 9 },\r\n    //   { id: 'weeklyPage10', title: 'Week 10', component: TabsControllerPage, param: 10 },\r\n    // ];\r\n    // this.fs.setActivePage(this.pages[0].id);\r\n    this.activePage = this.programPages[0];\r\n  }\r\n  \r\n  initializeApp() {\r\n    this.settings.load().then(() => {\r\n      this.pageReady = true;\r\n    });\r\n    this.platform.ready().then(() => {\r\n\r\n      // Okay, so the platform is ready and our plugins are available.\r\n      // Here you can do any higher level native things you might need.\r\n      this.notificationsService.initialiseNotifications();\r\n      this.downloadService.startDownloading();\r\n      this.statusBar.styleDefault();\r\n      this.splashScreen.hide();\r\n      this.platform.registerBackButtonAction(() => {\r\n        if (this.nav.canGoBack()) {\r\n          this.nav.pop();\r\n        } else {\r\n          if (this.nav.getActive().component == this.programPages[0].component) {\r\n            this.platform.exitApp();\r\n          } else {\r\n            this.nav.setRoot(this.programPages[0].component, this.programPages[0].param);\r\n            this.fs.setActivePage(this.programPages[0].id);\r\n          }\r\n\r\n        }\r\n      });\r\n\r\n    });\r\n  }\r\n  openPage(page) {\r\n    this.menuCtrl.close();\r\n    // Reset the content nav to have just this page\r\n    // we wouldn't want the back button to show in this scenario\r\n    if (page.id != this.fs.getActivePage()) {\r\n\r\n      this.nav.setRoot(page.component, page.param);\r\n      this.fs.setActivePage(page.id);\r\n\r\n      // }\r\n    } else {\r\n      // this.menuCtrl.close();\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n  checkActive(page) {\r\n    return page.id == this.fs.getActivePage();\r\n    // return page == this.activePage;\r\n  }\r\n\r\n  checkCurrentWeek(page) {\r\n    return page.param == this.fs.getCurrentWeek();\r\n    // return page == this.activePage;\r\n  }\r\n\r\n  checkAvailable(page) {\r\n    // return true;\r\n    if (this.settings.getValue('unlockAll')) {\r\n      return true;\r\n    } else {\r\n      if (page.param > this.fs.getCurrentWeek()) {\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { NavController } from 'ionic-angular';\r\nimport { Component } from '@angular/core';\r\nimport { Storage } from '@ionic/storage';\r\nimport { TabsControllerPage } from \"../tabs-controller/tabs-controller\";\r\nimport { WordListPage } from \"../word-list/word-list\";\r\nimport { KeyWordSignsPage } from \"../key-word-signs/key-word-signs\";\r\nimport { FileServiceProvider } from \"../../providers/file-service/file-service\";\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html'\r\n})\r\n\r\nexport class HomePage {\r\n\r\n\r\nconstructor(public navCtrl: NavController, public storage: Storage, public fs: FileServiceProvider) {}\r\n\r\n\r\n//Take the user to the week they are up to\r\nuserProgress(){\r\n  //Set to Week1Page until user progress can be restored from saved data\r\n    this.storage.get('currentWeek').then((data) => {\r\n      console.log(data)\r\n      this.navCtrl.setRoot(TabsControllerPage, data); \r\n      this.fs.setActivePage('weeklyPage'+data);\r\n    })\r\n }\r\n gotToKeyWordSigns(){\r\n  this.navCtrl.setRoot(KeyWordSignsPage); \r\n  this.fs.setActivePage('KeyWordSignsPage');\r\n }\r\n goToWordTracker(){\r\n  this.navCtrl.setRoot(WordListPage); \r\n  this.fs.setActivePage('WordListPage');\r\n }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n  \r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\nimport { Storage } from '@ionic/storage';\r\nimport { VideoService } from '../../providers/video-service/video-service';\r\n@Component({\r\n  selector: 'page-videos',\r\n  templateUrl: 'videos.html',\r\n  host: {\r\n    '(document:webkitfullscreenchange)': 'onFullscreen($event)'\r\n  }\r\n})\r\nexport class VideosPage {\r\n  week: any = '';\r\n  color: any = ''\r\n  watchedVideos: any[] = [];\r\n  constructor(public navCtrl: NavController,  \r\n              public navParams: NavParams,\r\n              public storage: Storage,\r\n            public videoService: VideoService) {\r\n    // console.log(JSON.stringify(this.navParams.data));\r\n    this.week = this.navParams.get('w');\r\n    this.color = this.week.number;\r\n    // this.storage.set('watchedVideos', '');\r\n    this.storage.get('watchedVideos').then(data => {\r\n      console.log(this.watchedVideos)\r\n        this.watchedVideos = data;\r\n      });\r\n\r\n    // this.streamingMedia.playVideo('assets/vid/sample.mp4', options);\r\n    // fs.getData('../../assets/data/week'+this.navParams.data+'.json').subscribe((data) => {\r\n    //   this.week = data;\r\n    //   // this.navCtrl.setRoot(this.navCtrl.getActive().component);\r\n    // });\r\n    // fs.getData('../../assets/data/week1.json').subscribe((data) => {\r\n    //   this.week = data;\r\n    //   console.log(this.week);\r\n    //   // this.navCtrl.setRoot(this.navCtrl.getActive().component);\r\n    // });\r\n    // console.log(fs.data);\r\n    // this.week = this.navParams.data;\r\n    // console.log(this.week);\r\n  }\r\n  playVideo(id){\r\n    this.videoService.playVideo(id);\r\n    // let video:any;\r\n    // video = document.getElementById(id);\r\n    // if (video.requestFullscreen) {\r\n    //   video.requestFullscreen();\r\n    // } else if (video.mozRequestFullScreen) {\r\n    //   video.mozRequestFullScreen();\r\n    // } else if (video.webkitRequestFullscreen) {\r\n    //   video.webkitRequestFullscreen();\r\n    // }\r\n    // video.play();\r\n  }\r\n  onFullscreen(e) {\r\n    //TODO: Handle tab bar overlay\r\n    // let tabbar:any;\r\n    // tabbar = document.getElementsByClassName('tab-buttons')[0];\r\n    // if (tabbar.style.visibility === 'hidden') {\r\n    //     tabbar.style.visibility = 'visible';\r\n    // } else {\r\n    //     tabbar.style.visibility = 'hidden';\r\n    // }\r\n  }\r\n  watched(video, event){\r\n    let watchedVideos,doc;\r\n    doc = document;\r\n    doc.exitFullscreen();\r\n    event.target.webkitExitFullScreen();\r\n    event.target.pause();\r\n    this.storage.get('watchedVideos').then(data => {\r\n      if(data){\r\n        watchedVideos = data;\r\n        if(!watchedVideos.includes(video.id)){\r\n          watchedVideos.push(video.id);\r\n          this.setWatchedVideos(watchedVideos);\r\n          // this.storage.set('watchedVideos', watchedVideos)\r\n        }  \r\n      }else{\r\n        watchedVideos = [video.id];\r\n        this.setWatchedVideos(watchedVideos);\r\n        // this.storage.set('watchedVideos', watchedVideos)\r\n      }\r\n    })\r\n  }\r\n  setWatchedVideos(videos){\r\n    this.storage.set('watchedVideos', videos).then(data => {\r\n      this.watchedVideos = data;\r\n    })\r\n  }\r\n  // checkWatchedVideo(video){\r\n  //   return new Promise(resolve => {\r\n  //     this.storage.get('watchedVideos').then(data => {\r\n  //       if(data.includes(video.id)){\r\n  //         console.log(data)\r\n  //         resolve(true);\r\n  //       }else{\r\n  //         resolve(false);\r\n  //       }\r\n  //     });\r\n  //   })\r\n  // }\r\n  \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/videos/videos.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\n\r\n@Component({\r\n  selector: 'page-story-time',\r\n  templateUrl: 'story-time.html'\r\n})\r\nexport class StoryTimePage {\r\n  week: any = '';\r\n  color: any = '';\r\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\r\n    this.week = this.navParams.get('w');\r\n    this.color = this.week.number\r\n  }\r\n  \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/story-time/story-time.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\nimport { VideoService } from '../../providers/video-service/video-service';\r\n\r\n@Component({\r\n  selector: 'page-weekly-signs',\r\n  templateUrl: 'weekly-signs.html'\r\n})\r\nexport class WeeklySignsPage {\r\n  week: any = '';\r\n  keyWordSignsChunks: any = [];\r\n  weeklyKeyWordSigns: any = [];\r\n  color: any = '';\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public videoService: VideoService) {\r\n    this.week = this.navParams.get('w');\r\n    this.color = this.week.number;\r\n    this.weeklyKeyWordSigns = this.week.weeklyKeyWordSigns;\r\n    //split array into chunks of 2 \r\n    console.log(this.weeklyKeyWordSigns)\r\n    // while (this.week.weeklyKeyWordSigns.length > 0){\r\n    //   // this.keyWordSignsChunks.push(this.week.weeklyKeyWordSigns.splice(0, 2));\r\n    //   this.weeklyKeyWordSigns.push(this.week.weeklyKeyWordSigns);\r\n    // }\r\n    // fs.getKeyWordSignObject(this.week.weeklyKeyWordSigns).subscribe(data => {\r\n    //   while (data.length > 0){\r\n    //     this.keyWordSignsChunks.push(data.splice(0, 2));\r\n    //   }\r\n    // })\r\n\r\n    // fs.getKeyWordSigns().subscribe((data) => {\r\n    //   for (var index = 0; index < data.length; index++) {\r\n    //     if(data[index].word === keyWord){\r\n    //       return data[index];\r\n    //     }\r\n    //   }\r\n    // })\r\n  }\r\n  playVideo(id){\r\n    this.videoService.playVideo(id);\r\n    // let video:any;\r\n    // video = document.getElementById(id);\r\n    // if (video.requestFullscreen) {\r\n    //   video.requestFullscreen();\r\n    // } else if (video.mozRequestFullScreen) {\r\n    //   video.mozRequestFullScreen();\r\n    // } else if (video.webkitRequestFullscreen) {\r\n    //   video.webkitRequestFullscreen();\r\n    // }\r\n    // video.play();\r\n  }\r\n watched(video, event){\r\n    event.target.webkitExitFullScreen();\r\n  }\r\n  \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/weekly-signs/weekly-signs.ts","import { Component } from '@angular/core';\r\nimport { NavController,NavParams } from 'ionic-angular';\r\n\r\n@Component({\r\n  selector: 'page-hints-tips',\r\n  templateUrl: 'hints-tips.html'\r\n})\r\nexport class HintsTipsPage {\r\n  week: any = '';\r\n  color: any = ''\r\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\r\n    this.week = this.navParams.get('w');\r\n    this.color = this.week.number\r\n  }\r\n  \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/hints-tips/hints-tips.ts","import { Component, ViewChild } from '@angular/core';\r\n\r\nimport { MenuController, NavController, Slides, AlertController, Platform } from 'ionic-angular';\r\nimport * as moment from 'moment';\r\n\r\nimport { Storage } from '@ionic/storage';\r\n\r\nimport { TabsControllerPage } from '../tabs-controller/tabs-controller';\r\n\r\nimport { FileServiceProvider } from \"../../providers/file-service/file-service\";\r\nimport { NotificationsService } from '../../providers/notifications-service/notifications-service';\r\n\r\n@Component({\r\n  selector: 'page-tutorial',\r\n  templateUrl: 'tutorial.html'\r\n})\r\n\r\nexport class TutorialPage {\r\n  showSkip = true;\r\n\r\n  @ViewChild('slides') slides: Slides;\r\n\r\n  constructor(\r\n    public platform: Platform,\r\n    public navCtrl: NavController,\r\n    public menu: MenuController,\r\n    public storage: Storage,\r\n    public fs: FileServiceProvider,\r\n    public alertCtrl: AlertController,\r\n    public notificationsService: NotificationsService\r\n  ) { }\r\n\r\n  startApp() {\r\n    let started = moment();\r\n    this.storage.set('startedOn', started.format('YYYY-MM-DD')).then(()=>{\r\n      this.storage.set('currentWeek', 1).then(()=>{\r\n            this.notificationsService.initialiseNotifications();\r\n            this.navCtrl.setRoot(TabsControllerPage, 1);\r\n            this.fs.setActivePage('weeklyPage1');\r\n            this.storage.set('hasSeenTutorial', 'true');\r\n      });\r\n\r\n    });\r\n    \r\n  }\r\n  \r\n  onSlideChangeStart(slider: Slides) {\r\n    this.showSkip = !slider.isEnd();\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.slides.update();\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    // the root left menu should be disabled on the tutorial page\r\n    this.menu.enable(false);\r\n  }\r\n\r\n  ionViewDidLeave() {\r\n    // enable the root left menu when leaving the tutorial page\r\n    this.menu.enable(true);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tutorial/tutorial.ts","import { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\nimport { TabsControllerPage } from '../tabs-controller/tabs-controller';\r\nimport { FileServiceProvider } from \"../../providers/file-service/file-service\";\r\n\r\n@Component({\r\n  selector: 'page-ten-week-program',\r\n  templateUrl: 'ten-week-program.html'\r\n})\r\nexport class TenWeekProgramPage {\r\n  loaded: boolean = false;\r\n  allWeeks:any = new Array(10);\r\n  constructor(public navCtrl: NavController, public fs: FileServiceProvider) {\r\n   \r\n    for(let i = 1; i<=10; i++){\r\n      this.fs.getWeekContent(i).subscribe((data) => {\r\n        this.allWeeks[data.number - 1] = data;\r\n        \r\n        if(i == 10){\r\n          this.loaded = true;\r\n        }\r\n      }) \r\n      \r\n    }\r\n  }\r\n  goToWeeklyTabs(params){\r\n    if (!params) params = {};\r\n    this.navCtrl.push(TabsControllerPage, params);\r\n    this.fs.setActivePage('weeklyPage'+ params);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ten-week-program/ten-week-program.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams, AlertController, ModalController } from 'ionic-angular';\r\nimport { Settings } from \"../../providers/settings\";\r\nimport { AcknowledgementsPage } from \"../acknowledgements/acknowledgements\";\r\nimport { AboutTalkablePage } from \"../about-talkable/about-talkable\";\r\nimport { Storage } from '@ionic/storage';\r\nimport { LocalNotifications } from '@ionic-native/local-notifications';\r\nimport { RatingModal } from \"../rating-modal/rating-modal\";\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { DownloadService } from \"../../providers/download-service/download-service\";\r\nimport { NotificationsService } from '../../providers/notifications-service/notifications-service';\r\nimport { ManageDownloadsPage } from \"../manage-downloads/manage-downloads\";\r\n@Component({\r\n  selector: 'page-settings',\r\n  templateUrl: 'settings.html',\r\n})\r\nexport class SettingsPage {\r\n  unlockAllToggle: boolean;\r\n  options: any;\r\n  constructor(public navCtrl: NavController, \r\n              public navParams: NavParams, \r\n              private alertCtrl: AlertController, \r\n              private settings: Settings,\r\n              public storage: Storage,\r\n              private localNotifications: LocalNotifications,\r\n              public modalCtrl: ModalController,\r\n              public splashScreen: SplashScreen,\r\n              public downloadService: DownloadService,\r\n            public notificationsService: NotificationsService) {\r\n    this.settings.load().then(() => {\r\n      this.options = this.settings.allSettings;\r\n      console.log(this.options)\r\n    })\r\n  }\r\n  doAlert() {\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Feature being implemeted!',\r\n      subTitle: 'Soon this feature will be implemented. Stay tuned!',\r\n      buttons: ['Ok']\r\n    });\r\n    \r\n    alert.present();\r\n  }\r\n  alertEventChange() {\r\n    // this.alertEvent = this.alertEvent ? false : true;\r\n    console.log(this.unlockAllToggle);\r\n  }\r\n  openAcknowledgements(){\r\n    this.navCtrl.push(AcknowledgementsPage);\r\n  }\r\n  openAbout(){\r\n    this.navCtrl.push(AboutTalkablePage);\r\n  }\r\n  openRatingModal(){\r\n    let ratingModal = this.modalCtrl.create(RatingModal, null, {cssClass: 'ratingModal'});\r\n   ratingModal.present();\r\n  }\r\n  updateSettings(){\r\n    this.settings.setAll(this.options)\r\n    // this.storage.set('settings', this.options);\r\n  }\r\n  openManageDownloads(){\r\n    this.navCtrl.push(ManageDownloadsPage);\r\n  }\r\n  updateNotificationsPreference(){\r\n    if(this.options.videoPreference == 'disabled'){\r\n      this.notificationsService.disableNotifications();\r\n    }else{\r\n        this.notificationsService.initialiseNotifications();\r\n    }\r\n    this.settings.setAll(this.options);\r\n  }\r\n\r\n  updateVideoPreference(){\r\n    if(this.options.videoPreference == 'download'){\r\n      let alert = this.alertCtrl.create({\r\n        title: 'Warning',\r\n        message: 'This option will consume about 1GB of data, we suggest using a wifi network to download videos! <br><br>Videos will be downloaded in the background on a weekly basis. ',\r\n        buttons: [\r\n          {\r\n            text: 'Cancel',\r\n            role: 'cancel',\r\n            handler: () => {\r\n              this.options.videoPreference = \"online\";\r\n            }\r\n          },\r\n          {\r\n            text: 'I Understand',\r\n            cssClass: 'danger-label',\r\n            handler: () => {\r\n              this.settings.setAll(this.options);\r\n              this.downloadService.startDownloading();\r\n  \r\n            }\r\n          }\r\n        ]\r\n      });\r\n      alert.present();\r\n    }else{\r\n      this.settings.setAll(this.options);\r\n      this.downloadService.stopDownloading();\r\n    }\r\n    \r\n    //show warinign popup before saving\r\n    \r\n  }\r\n  resetProgress(){\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Reset Progress',\r\n      subTitle: 'Do you wish to reset everything to default? WARNING: This will reset to app defaults',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n        },\r\n        {\r\n          text: 'Reset Progress',\r\n          cssClass: 'danger-label',\r\n          handler: () => {\r\n            this.settings.reset().then(() => {\r\n              this.options = this.settings.allSettings\r\n              this.storage.clear();\r\n              this.localNotifications.cancelAll();\r\n              this.splashScreen.show();\r\n              document.location.href = 'index.html';\r\n\r\n              // this.options = val;\r\n            });\r\n            //console.log('Buy clicked');\r\n          }\r\n        }\r\n      ]\r\n    });\r\n  alert.present();\r\n  }\r\n  resetSettings(){\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Reset Settings',\r\n      subTitle: 'Do you wish to reset settings to default?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n        },\r\n        {\r\n          text: 'Reset',\r\n          cssClass: 'danger-label',\r\n          handler: () => {\r\n            this.settings.reset().then(() => {\r\n              this.options = this.settings.allSettings\r\n              // this.options = val;\r\n            });\r\n            //console.log('Buy clicked');\r\n          }\r\n        }\r\n      ]\r\n    });\r\n  alert.present();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","import { NavController } from 'ionic-angular';\r\nimport { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'page-acknowledgements',\r\n  templateUrl: 'acknowledgements.html'\r\n})\r\n\r\nexport class AcknowledgementsPage {\r\n\r\n\r\nconstructor(public navCtrl: NavController) {}\r\n\r\n}\r\n\r\n\r\n\r\n\r\n  \r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/acknowledgements/acknowledgements.ts","import { Component } from '@angular/core';\nimport {  NavController, NavParams } from 'ionic-angular';\n\n@Component({\n  selector: 'page-about-talkable',\n  templateUrl: 'about-talkable.html',\n})\nexport class AboutTalkablePage {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/about-talkable/about-talkable.ts","import { Component } from '@angular/core';\r\nimport { ViewController, AlertController } from 'ionic-angular';\r\nimport { FileServiceProvider } from \"../../providers/file-service/file-service\";\r\nimport { Storage } from '@ionic/storage';\r\nimport { FeedbackService } from \"../../providers/feedback-service/feedback-service\";\r\n\r\n@Component({\r\n  selector: 'page-rating-modal',\r\n  templateUrl: 'rating-modal.html'\r\n})\r\nexport class RatingModal {\r\n  rating: any;\r\n  feedback: any;\r\n  constructor(public feedbackService: FeedbackService, public viewCtrl: ViewController, public alertCtrl: AlertController, public fs: FileServiceProvider, public storage: Storage,) {\r\n    this.storage.get(\"feedback\").then(feedback => {\r\n      if(feedback){\r\n        this.rating = feedback.rating;\r\n        this.feedback = feedback.feedback;\r\n      }\r\n    })\r\n    \r\n    \r\n  }\r\n  dismiss() {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n  submitFeedback(){\r\n    this.storage.set('feedback', {'rating': this.rating, 'feedback': this.feedback ? this.feedback.trim() : ''})\r\n    if(this.rating > 0 || this.feedback){\r\n      this.feedbackService.submitFeedback(this.rating, this.feedback);\r\n      let alert = this.alertCtrl.create({\r\n        title: 'Feedback submitted!',\r\n        subTitle: 'Thanks for your contribution' ,\r\n        buttons: ['Ok!']\r\n      });\r\n      alert.present();\r\n\r\n    }\r\n    \r\n    this.dismiss();\r\n    \r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/rating-modal/rating-modal.ts","import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\nimport { Storage } from '@ionic/storage'\r\nimport { Device } from '@ionic-native/device';\r\n\r\n@Injectable()\r\n\r\nexport class FeedbackService {\r\n  feedbackURL: string = \"http://feedback.talkable.org.au/new.php\"\r\n  constructor(public http: Http,public storage: Storage,private device: Device) {\r\n    \r\n  }\r\n  submitFeedback(rating, message){\r\n    var dateOptions = { year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric' };\r\n\r\n    let feedbackData = {\r\n        time: new Date().toLocaleDateString('au-AU', dateOptions),\r\n        rating: rating ? rating : 0,\r\n        message: message,\r\n        uuid: this.device.uuid,\r\n        model: this.device.model,\r\n        platform: this.device.platform,\r\n        version: this.device.version\r\n        \r\n      }\r\n      this.http.post(this.feedbackURL, JSON.stringify(feedbackData) ).subscribe(data => {\r\n          console.log(data)\r\n      })    \r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/feedback-service/feedback-service.ts","import { Component, ChangeDetectorRef } from '@angular/core';\r\nimport {  NavController, NavParams } from 'ionic-angular';\r\nimport { DownloadService } from '../../providers/download-service/download-service';\r\n\r\n\r\n@Component({\r\n  selector: 'page-manage-downloads',\r\n  templateUrl: 'manage-downloads.html',\r\n})\r\nexport class ManageDownloadsPage {\r\n  interval: any;\r\n\r\n  constructor(public cd: ChangeDetectorRef, public navCtrl: NavController, public navParams: NavParams, public downloadService:DownloadService) {\r\n    \r\n  }\r\n  ngOnInit(){\r\n    this.interval = setInterval( () => {\r\n      this.cd.detectChanges();\r\n    }, 500);\r\n  }\r\n  ngOnDestroy() {\r\n    clearInterval(this.interval);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/manage-downloads/manage-downloads.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\r\nimport { ErrorHandler, NgModule } from '@angular/core';\r\nimport { HttpModule } from '@angular/http';\r\nimport { Storage, IonicStorageModule } from '@ionic/storage';\r\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\r\n\r\nimport { SuperTabsModule } from 'ionic2-super-tabs';\r\nimport { IonicImageViewerModule } from 'ionic-img-viewer';\r\nimport { DownloadService } from \"../providers/download-service/download-service\";\r\nimport { BackgroundMode } from '@ionic-native/background-mode';\r\nimport { LocalNotifications } from '@ionic-native/local-notifications';\r\nimport { SocialSharing } from '@ionic-native/social-sharing';\r\nimport { Ionic2RatingModule } from 'ionic2-rating';\r\nimport { Device } from '@ionic-native/device';\r\nimport { FileTransfer, FileTransferObject } from '@ionic-native/file-transfer';\r\nimport { File } from '@ionic-native/file';\r\nimport { Talkable } from './app.component';\r\nimport { HomePage } from '../pages/home/home';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { StreamingMedia } from '@ionic-native/streaming-media';\r\nimport { AboutTalkablePage } from \"../pages/about-talkable/about-talkable\";\r\nimport { ChunksPipe, ObjectPipe, KeysPipe } from './app.component'\r\n\r\nimport { AcknowledgementsPage } from '../pages/acknowledgements/acknowledgements';\r\nimport { TenWeekProgramPage } from '../pages/ten-week-program/ten-week-program';\r\nimport { TabsControllerPage } from '../pages/tabs-controller/tabs-controller';\r\nimport { TutorialPage } from '../pages//tutorial/tutorial';\r\nimport { VideosPage } from '../pages/videos/videos'\r\nimport { StoryTimePage } from '../pages/story-time/story-time'\r\nimport { HintsTipsPage } from '../pages/hints-tips/hints-tips'\r\nimport { WeeklySignsPage } from '../pages/weekly-signs/weekly-signs'\r\nimport { KeyWordSignsPage } from '../pages/key-word-signs/key-word-signs'\r\nimport { WordListPage } from \"../pages/word-list/word-list\";\r\nimport { SettingsPage } from \"../pages/settings/settings\";\r\nimport { FileServiceProvider } from '../providers/file-service/file-service';\r\nimport { FeedbackService } from \"../providers/feedback-service/feedback-service\";\r\nimport { VideoService } from \"../providers/video-service/video-service\";\r\nimport { Settings } from \"../providers/settings\";\r\nimport { RatingModal } from \"../pages/rating-modal/rating-modal\";\r\nimport { NotificationsService } from '../providers/notifications-service/notifications-service';\r\nimport { ManageDownloadsPage } from \"../pages/manage-downloads/manage-downloads\";\r\nimport { Network } from '@ionic-native/network';\r\n\r\nexport function provideSettings(storage: Storage) {\r\n  /**\r\n   * The Settings provider takes a set of default settings for your app.\r\n   *\r\n   * You can add new settings options at any time. Once the settings are saved,\r\n   * these values will not overwrite the saved values (this can be done manually if desired).\r\n   */\r\n  return new Settings(storage, {\r\n    unlockAll: false,\r\n    videoPreference: 'online',\r\n    notifications: \"enabled\"\r\n  });\r\n}\r\n\r\n@NgModule({\r\n  declarations: [\r\n    Talkable,\r\n    HomePage,\r\n    TenWeekProgramPage,\r\n    AcknowledgementsPage,\r\n    TabsControllerPage,\r\n    VideosPage,\r\n    TutorialPage,\r\n    StoryTimePage,\r\n    HintsTipsPage,\r\n    KeyWordSignsPage,\r\n    WordListPage,\r\n    WeeklySignsPage,\r\n    SettingsPage,\r\n    RatingModal,\r\n    ManageDownloadsPage,\r\n    AboutTalkablePage,\r\n    ChunksPipe,\r\n    ObjectPipe,\r\n    KeysPipe\r\n  ],\r\n  imports: [\r\n    HttpModule,\r\n    BrowserModule,\r\n    IonicModule.forRoot(Talkable,{\r\n      platforms: {\r\n        ios: {\r\n          statusbarPadding: true\r\n        }\r\n      } \r\n    }),\r\n    Ionic2RatingModule,\r\n    IonicStorageModule.forRoot(),\r\n    SuperTabsModule.forRoot(),\r\n    IonicImageViewerModule\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    Talkable,\r\n    HomePage,\r\n    TenWeekProgramPage,\r\n    TabsControllerPage,\r\n    AboutTalkablePage,\r\n    VideosPage,\r\n    AcknowledgementsPage,\r\n    StoryTimePage,\r\n    ManageDownloadsPage,\r\n    HintsTipsPage,\r\n    TutorialPage,\r\n    KeyWordSignsPage,\r\n    RatingModal,\r\n    WordListPage,\r\n    WeeklySignsPage,\r\n    SettingsPage\r\n  ],\r\n  providers: [\r\n    StatusBar,\r\n    SplashScreen,\r\n    VideoService,\r\n    Device,\r\n    LocalNotifications,\r\n    SocialSharing,\r\n    StreamingMedia,\r\n    BackgroundMode,\r\n    DownloadService,\r\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\r\n    FileServiceProvider,\r\n    FeedbackService,\r\n    FileTransfer,\r\n    FileTransferObject,\r\n    Network,\r\n    NotificationsService,\r\n    File,\r\n    { provide: Settings, useFactory: provideSettings, deps: [Storage] },\r\n  ]\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Injectable } from '@angular/core';\r\n\r\nimport { Storage } from '@ionic/storage';\r\n\r\n/**\r\n * A simple settings/config class for storing key/value pairs with persistence.\r\n */\r\n@Injectable()\r\nexport class Settings {\r\n  private SETTINGS_KEY: string = '_settings';\r\n\r\n  settings: any;\r\n\r\n  _defaults: any;\r\n  _readyPromise: Promise<any>;\r\n\r\n  constructor(public storage: Storage, defaults: any) {\r\n    this._defaults = defaults;\r\n  }\r\n\r\n  load() {\r\n    return this.storage.get(this.SETTINGS_KEY).then((value) => {\r\n      if (value) {\r\n        this.settings = value;\r\n        return this._mergeDefaults(this._defaults);\r\n      } else {\r\n        return this.setAll(this._defaults).then((val) => {\r\n          this.settings = val;\r\n        })\r\n      }\r\n    });\r\n  }\r\n\r\n  _mergeDefaults(defaults: any) {\r\n    for (let k in defaults) {\r\n      if (!(k in this.settings)) {\r\n        this.settings[k] = defaults[k];\r\n      }\r\n    }\r\n    return this.setAll(this.settings);\r\n  }\r\n\r\n  merge(settings: any) {\r\n    for (let k in settings) {\r\n      this.settings[k] = settings[k];\r\n    }\r\n    return this.save();\r\n  }\r\n\r\n  setValue(key: string, value: any) {\r\n    this.settings[key] = value;\r\n    return this.storage.set(this.SETTINGS_KEY, this.settings);\r\n  }\r\n\r\n  setAll(value: any) {\r\n    return this.storage.set(this.SETTINGS_KEY, value);\r\n  }\r\n\r\n  getValue(key: string) {\r\n      return this.settings[key];\r\n    // return this.storage.get(this.SETTINGS_KEY)\r\n    //   .then(settings => {\r\n    //     return settings[key];\r\n    //   });\r\n  }\r\n\r\n  save() {\r\n    return this.setAll(this.settings);\r\n  }\r\n\r\n  get allSettings() {\r\n    return this.settings;\r\n  }\r\n\r\n  reset() {\r\n    return this.setAll(this._defaults).then((val) => {\r\n        this.settings = val;\r\n    })\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/settings.ts","var map = {\n\t\"./af\": 275,\n\t\"./af.js\": 275,\n\t\"./ar\": 276,\n\t\"./ar-dz\": 277,\n\t\"./ar-dz.js\": 277,\n\t\"./ar-kw\": 278,\n\t\"./ar-kw.js\": 278,\n\t\"./ar-ly\": 279,\n\t\"./ar-ly.js\": 279,\n\t\"./ar-ma\": 280,\n\t\"./ar-ma.js\": 280,\n\t\"./ar-sa\": 281,\n\t\"./ar-sa.js\": 281,\n\t\"./ar-tn\": 282,\n\t\"./ar-tn.js\": 282,\n\t\"./ar.js\": 276,\n\t\"./az\": 283,\n\t\"./az.js\": 283,\n\t\"./be\": 284,\n\t\"./be.js\": 284,\n\t\"./bg\": 285,\n\t\"./bg.js\": 285,\n\t\"./bm\": 286,\n\t\"./bm.js\": 286,\n\t\"./bn\": 287,\n\t\"./bn.js\": 287,\n\t\"./bo\": 288,\n\t\"./bo.js\": 288,\n\t\"./br\": 289,\n\t\"./br.js\": 289,\n\t\"./bs\": 290,\n\t\"./bs.js\": 290,\n\t\"./ca\": 291,\n\t\"./ca.js\": 291,\n\t\"./cs\": 292,\n\t\"./cs.js\": 292,\n\t\"./cv\": 293,\n\t\"./cv.js\": 293,\n\t\"./cy\": 294,\n\t\"./cy.js\": 294,\n\t\"./da\": 295,\n\t\"./da.js\": 295,\n\t\"./de\": 296,\n\t\"./de-at\": 297,\n\t\"./de-at.js\": 297,\n\t\"./de-ch\": 298,\n\t\"./de-ch.js\": 298,\n\t\"./de.js\": 296,\n\t\"./dv\": 299,\n\t\"./dv.js\": 299,\n\t\"./el\": 300,\n\t\"./el.js\": 300,\n\t\"./en-au\": 301,\n\t\"./en-au.js\": 301,\n\t\"./en-ca\": 302,\n\t\"./en-ca.js\": 302,\n\t\"./en-gb\": 303,\n\t\"./en-gb.js\": 303,\n\t\"./en-ie\": 304,\n\t\"./en-ie.js\": 304,\n\t\"./en-nz\": 305,\n\t\"./en-nz.js\": 305,\n\t\"./eo\": 306,\n\t\"./eo.js\": 306,\n\t\"./es\": 307,\n\t\"./es-do\": 308,\n\t\"./es-do.js\": 308,\n\t\"./es-us\": 309,\n\t\"./es-us.js\": 309,\n\t\"./es.js\": 307,\n\t\"./et\": 310,\n\t\"./et.js\": 310,\n\t\"./eu\": 311,\n\t\"./eu.js\": 311,\n\t\"./fa\": 312,\n\t\"./fa.js\": 312,\n\t\"./fi\": 313,\n\t\"./fi.js\": 313,\n\t\"./fo\": 314,\n\t\"./fo.js\": 314,\n\t\"./fr\": 315,\n\t\"./fr-ca\": 316,\n\t\"./fr-ca.js\": 316,\n\t\"./fr-ch\": 317,\n\t\"./fr-ch.js\": 317,\n\t\"./fr.js\": 315,\n\t\"./fy\": 318,\n\t\"./fy.js\": 318,\n\t\"./gd\": 319,\n\t\"./gd.js\": 319,\n\t\"./gl\": 320,\n\t\"./gl.js\": 320,\n\t\"./gom-latn\": 321,\n\t\"./gom-latn.js\": 321,\n\t\"./gu\": 322,\n\t\"./gu.js\": 322,\n\t\"./he\": 323,\n\t\"./he.js\": 323,\n\t\"./hi\": 324,\n\t\"./hi.js\": 324,\n\t\"./hr\": 325,\n\t\"./hr.js\": 325,\n\t\"./hu\": 326,\n\t\"./hu.js\": 326,\n\t\"./hy-am\": 327,\n\t\"./hy-am.js\": 327,\n\t\"./id\": 328,\n\t\"./id.js\": 328,\n\t\"./is\": 329,\n\t\"./is.js\": 329,\n\t\"./it\": 330,\n\t\"./it.js\": 330,\n\t\"./ja\": 331,\n\t\"./ja.js\": 331,\n\t\"./jv\": 332,\n\t\"./jv.js\": 332,\n\t\"./ka\": 333,\n\t\"./ka.js\": 333,\n\t\"./kk\": 334,\n\t\"./kk.js\": 334,\n\t\"./km\": 335,\n\t\"./km.js\": 335,\n\t\"./kn\": 336,\n\t\"./kn.js\": 336,\n\t\"./ko\": 337,\n\t\"./ko.js\": 337,\n\t\"./ky\": 338,\n\t\"./ky.js\": 338,\n\t\"./lb\": 339,\n\t\"./lb.js\": 339,\n\t\"./lo\": 340,\n\t\"./lo.js\": 340,\n\t\"./lt\": 341,\n\t\"./lt.js\": 341,\n\t\"./lv\": 342,\n\t\"./lv.js\": 342,\n\t\"./me\": 343,\n\t\"./me.js\": 343,\n\t\"./mi\": 344,\n\t\"./mi.js\": 344,\n\t\"./mk\": 345,\n\t\"./mk.js\": 345,\n\t\"./ml\": 346,\n\t\"./ml.js\": 346,\n\t\"./mr\": 347,\n\t\"./mr.js\": 347,\n\t\"./ms\": 348,\n\t\"./ms-my\": 349,\n\t\"./ms-my.js\": 349,\n\t\"./ms.js\": 348,\n\t\"./mt\": 350,\n\t\"./mt.js\": 350,\n\t\"./my\": 351,\n\t\"./my.js\": 351,\n\t\"./nb\": 352,\n\t\"./nb.js\": 352,\n\t\"./ne\": 353,\n\t\"./ne.js\": 353,\n\t\"./nl\": 354,\n\t\"./nl-be\": 355,\n\t\"./nl-be.js\": 355,\n\t\"./nl.js\": 354,\n\t\"./nn\": 356,\n\t\"./nn.js\": 356,\n\t\"./pa-in\": 357,\n\t\"./pa-in.js\": 357,\n\t\"./pl\": 358,\n\t\"./pl.js\": 358,\n\t\"./pt\": 359,\n\t\"./pt-br\": 360,\n\t\"./pt-br.js\": 360,\n\t\"./pt.js\": 359,\n\t\"./ro\": 361,\n\t\"./ro.js\": 361,\n\t\"./ru\": 362,\n\t\"./ru.js\": 362,\n\t\"./sd\": 363,\n\t\"./sd.js\": 363,\n\t\"./se\": 364,\n\t\"./se.js\": 364,\n\t\"./si\": 365,\n\t\"./si.js\": 365,\n\t\"./sk\": 366,\n\t\"./sk.js\": 366,\n\t\"./sl\": 367,\n\t\"./sl.js\": 367,\n\t\"./sq\": 368,\n\t\"./sq.js\": 368,\n\t\"./sr\": 369,\n\t\"./sr-cyrl\": 370,\n\t\"./sr-cyrl.js\": 370,\n\t\"./sr.js\": 369,\n\t\"./ss\": 371,\n\t\"./ss.js\": 371,\n\t\"./sv\": 372,\n\t\"./sv.js\": 372,\n\t\"./sw\": 373,\n\t\"./sw.js\": 373,\n\t\"./ta\": 374,\n\t\"./ta.js\": 374,\n\t\"./te\": 375,\n\t\"./te.js\": 375,\n\t\"./tet\": 376,\n\t\"./tet.js\": 376,\n\t\"./th\": 377,\n\t\"./th.js\": 377,\n\t\"./tl-ph\": 378,\n\t\"./tl-ph.js\": 378,\n\t\"./tlh\": 379,\n\t\"./tlh.js\": 379,\n\t\"./tr\": 380,\n\t\"./tr.js\": 380,\n\t\"./tzl\": 381,\n\t\"./tzl.js\": 381,\n\t\"./tzm\": 382,\n\t\"./tzm-latn\": 383,\n\t\"./tzm-latn.js\": 383,\n\t\"./tzm.js\": 382,\n\t\"./uk\": 384,\n\t\"./uk.js\": 384,\n\t\"./ur\": 385,\n\t\"./ur.js\": 385,\n\t\"./uz\": 386,\n\t\"./uz-latn\": 387,\n\t\"./uz-latn.js\": 387,\n\t\"./uz.js\": 386,\n\t\"./vi\": 388,\n\t\"./vi.js\": 388,\n\t\"./x-pseudo\": 389,\n\t\"./x-pseudo.js\": 389,\n\t\"./yo\": 390,\n\t\"./yo.js\": 390,\n\t\"./zh-cn\": 391,\n\t\"./zh-cn.js\": 391,\n\t\"./zh-hk\": 392,\n\t\"./zh-hk.js\": 392,\n\t\"./zh-tw\": 393,\n\t\"./zh-tw.js\": 393\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 579;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = 579\n// module chunks = 0","import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\nimport { Storage } from '@ionic/storage'\r\nimport { Settings } from \"../../providers/settings\";\r\nimport { Platform } from 'ionic-angular';\r\nimport { FileServiceProvider } from '../file-service/file-service';\r\nimport { FileTransfer, FileTransferObject } from '@ionic-native/file-transfer';\r\nimport { File } from '@ionic-native/file';\r\nimport { queue } from 'async';\r\nimport * as _ from 'lodash'\r\nimport { BackgroundMode } from '@ionic-native/background-mode';\r\nimport { Network } from '@ionic-native/network';\r\n\r\n@Injectable()\r\n\r\nexport class DownloadService {\r\n    options: any;\r\n    fileTransfer: FileTransferObject;\r\n    downloadedVideos;\r\n    q: any;\r\n    hasNetwork: boolean = false;\r\n    videoURL: string = \"http://feedback.talkable.org.au/\";\r\n    constructor(\r\n        public plt: Platform,\r\n        public http: Http,\r\n        public storage: Storage,\r\n        public fs: FileServiceProvider,\r\n        private transfer: FileTransfer,\r\n        private file: File,\r\n        public settings: Settings,\r\n        private backgroundMode: BackgroundMode,\r\n        private network: Network) {\r\n        // watch network for a disconnect\r\n        let disconnectSubscription = this.network.onDisconnect().subscribe(() => {\r\n            console.log('network was disconnected :-(');\r\n            this.hasNetwork = false;\r\n            this.stopDownloading();\r\n        });\r\n        let connectSubscription = this.network.onConnect().subscribe(() => {\r\n            console.log('network connected!');\r\n            this.hasNetwork = true;\r\n            this.startDownloading();\r\n        });\r\n\r\n        this.settings.load();\r\n        this.backgroundMode.configure({ silent: true });\r\n        this.fileTransfer = this.transfer.create();\r\n        this.storage.get(\"downloadedVideos\").then(downloadedVideos => {\r\n            if (downloadedVideos) {\r\n                this.downloadedVideos = downloadedVideos;\r\n\r\n            } else {\r\n                this.downloadedVideos = {};\r\n            }\r\n        })\r\n        // create a queue object with concurrency 1\r\n        let self = this;\r\n        //download to tmp directory then move when done\r\n        this.q = queue(function (task: any, callback) {\r\n            self.file.checkFile(self.file.dataDirectory, task.id + '.mp4').then(exists => {\r\n                self.saveDownloadedvideo(task.id);\r\n                callback();\r\n            }).catch(err => {\r\n                // Download a file:\r\n                self.fileTransfer.onProgress(progress => {\r\n\r\n                    var percent = progress.loaded / progress.total * 100;\r\n                    percent = Math.round(percent);\r\n                    self.downloadedVideos[task.id].percent = percent;\r\n                })\r\n\r\n                self.fileTransfer.download(\r\n                    self.videoURL + task.id + '.mp4',\r\n                    self.file.dataDirectory + 'tmp/' + task.id + '.mp4')\r\n                    .then(done => {\r\n                        self.file.moveFile(self.file.dataDirectory + 'tmp/', task.id + '.mp4',\r\n                            self.file.dataDirectory, task.id + '.mp4').then(entry => {\r\n                                self.saveDownloadedvideo(task.id);\r\n                                callback();\r\n                            }).catch(err => {\r\n                                self.downloadedVideos[task.id].downloaded = null;\r\n                                self.forceDownload(task.id);\r\n                                callback();\r\n\r\n                            })\r\n\r\n                    })\r\n                    .catch(err => {\r\n                        self.downloadedVideos[task.id].downloaded = null;\r\n                        self.forceDownload(task.id);\r\n                        callback();\r\n                    });\r\n            })\r\n\r\n\r\n        }, 1);\r\n        // assign a callback\r\n        this.q.drain = function () {\r\n            //stop downloading, put app back into non background\r\n            this.backgroundMode.disable();\r\n            console.log('all items have been processed');\r\n        };\r\n\r\n    }\r\n    getQueuedDownloads() {\r\n        return _.filter(this.downloadedVideos, ['downloaded', false])\r\n    }\r\n    getAllDownloaded() {\r\n        return _.filter(this.downloadedVideos, ['downloaded', true])\r\n    }\r\n    getPercent(id) {\r\n        return this.downloadedVideos[id].percent\r\n    }\r\n    getFilePath(id) {\r\n        return this.file.dataDirectory + id + '.mp4';\r\n    }\r\n    getURLPath(id) {\r\n        return this.videoURL + id + '.mp4';\r\n    }\r\n    saveDownloadedvideo(id) {\r\n        if (this.downloadedVideos[id]) {\r\n            this.downloadedVideos[id].downloaded = true;\r\n        } else {\r\n            this.downloadedVideos[id] = {}\r\n            this.downloadedVideos[id].downloaded = true;\r\n        }\r\n\r\n        this.storage.set(\"downloadedVideos\", this.downloadedVideos)\r\n    }\r\n    forceDownload(id) {\r\n        //check if q has id \r\n        if (this.q.workersList() && this.q.workersList()[0].data.id != id) {\r\n            this.q.remove((data, priority) => {\r\n                return data.id == id;\r\n            })\r\n            this.addToQueue(id, true);\r\n\r\n        }\r\n\r\n    }\r\n    pauseDownloading() {\r\n        this.q.pause();\r\n    }\r\n    resumeDownloading() {\r\n        this.q.resume();\r\n    }\r\n    addToQueue(id, rush) {\r\n        if (!this.downloadedVideos[id]) {\r\n            this.downloadedVideos[id] = {}\r\n        }\r\n        this.downloadedVideos[id].downloaded = false;\r\n        this.downloadedVideos[id].id = id\r\n        this.downloadedVideos[id].percent = 0;\r\n        if (rush) {\r\n            this.q.unshift({ id: id }, function (err) {\r\n                console.log('finished downloading' + id);\r\n            });\r\n        } else {\r\n            this.q.push({ id: id }, function (err) {\r\n                console.log('finished downloading ' + id + '');\r\n            });\r\n        }\r\n\r\n    }\r\n    startDownloading() {\r\n        if (this.settings.getValue(\"videoPreference\") == 'download') {\r\n            this.backgroundMode.enable();\r\n            this.storage.get(\"currentWeek\").then(currentWeek => {\r\n                this.fs.getWeekContent(currentWeek).subscribe(week => {\r\n                    // add some items to the queue\r\n                    week.videos.forEach(video => {\r\n                        this.addToQueue(video.id, false)\r\n                    });\r\n                    week.weeklyKeyWordSigns.videos.forEach(video => {\r\n                        this.addToQueue(video, false)\r\n                    });\r\n\r\n                })\r\n            })\r\n\r\n        }\r\n    }\r\n    stopDownloading() {\r\n        this.q.kill();\r\n        this.backgroundMode.disable();\r\n    }\r\n    isDownloaded(id) {\r\n        return this.downloadedVideos[id].downloaded;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/download-service/download-service.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams, AlertController  } from 'ionic-angular';\r\nimport { VideosPage } from '../videos/videos';\r\nimport { StoryTimePage } from '../story-time/story-time';\r\nimport { WeeklySignsPage } from '../weekly-signs/weekly-signs';\r\nimport { HintsTipsPage } from '../hints-tips/hints-tips';\r\nimport { FileServiceProvider } from '../../providers/file-service/file-service';\r\nimport { Storage } from '@ionic/storage';\r\nimport { Settings } from \"../../providers/settings\";\r\n@Component({\r\n  selector: 'page-tabs-controller',\r\n  templateUrl: 'tabs-controller.html'\r\n})\r\nexport class TabsControllerPage {\r\n  week: any;\r\n  videoTabRoot: any = VideosPage;\r\n  storyTabRoot: any = StoryTimePage;\r\n  weeklySignsTabRoot: any = WeeklySignsPage;\r\n  hintsTipsTabRoot: any = HintsTipsPage;\r\n  canEnter: boolean;\r\n  color: any='primary';\r\n  constructor(public navCtrl: NavController,  \r\n              public navParams: NavParams, \r\n              public fs: FileServiceProvider, \r\n              private storage: Storage,\r\n              private alertCtrl: AlertController,\r\n              private settings: Settings) {\r\n                this.color = this.navParams.data;\r\n                this.fs.getWeekContent(this.navParams.data).subscribe((data) => {\r\n        this.week = data;\r\n        // loadingPopup.dismiss();\r\n        // this.navCtrl.setRoot(this.navCtrl.getActive().component);\r\n      });\r\n    \r\n  }\r\n  \r\n  ionViewCanEnter(){\r\n    \r\n    return new Promise(resolve => {\r\n      console.log(this.week)\r\n      if(this.settings.getValue('unlockAll')){\r\n        resolve(true);\r\n        // return true;\r\n      }else{\r\n        this.storage.get('currentWeek').then((data) => {\r\n          if(this.navParams.data > data){\r\n            let alert = this.alertCtrl.create({\r\n              title: 'You have not unlocked this content yet!',\r\n              subTitle: 'You are on week ' + data + '\\nFocus on the current week :D',\r\n              buttons: ['Ok']\r\n            });\r\n            alert.present();\r\n            resolve(false);\r\n            // return false;\r\n          }else{\r\n            resolve(true);\r\n            // return true;\r\n            \r\n            // this.navCtrl.setRoot(page.component, page.param);\r\n            // this.activePage = page\r\n          }\r\n        }) \r\n      }     \r\n      //let i = new Promise();\r\n      //return Promise()\r\n  })\r\n  }\r\n    \r\n  \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs-controller/tabs-controller.ts","import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\nimport { Storage } from '@ionic/storage'\r\nimport { Settings } from \"../../providers/settings\";\r\nimport { Platform, AlertController, ModalController } from 'ionic-angular';\r\nimport { DownloadService } from '../download-service/download-service';\r\nimport { StreamingMedia, StreamingVideoOptions } from '@ionic-native/streaming-media';\r\n\r\n\r\n@Injectable()\r\n\r\nexport class VideoService {\r\n    options: any;\r\n    videooptions: StreamingVideoOptions = {\r\n        successCallback: () => { console.log('Video played') },\r\n        errorCallback: (e) => { console.log('Error streaming') },\r\n        orientation: 'landscape'\r\n    };\r\n    constructor(public plt: Platform,\r\n        private settings: Settings,\r\n        public http: Http,\r\n        public storage: Storage,\r\n        public downloadService: DownloadService,\r\n        public alertCtrl: AlertController,\r\n        public modalCtrl: ModalController,\r\n        private streamingMedia: StreamingMedia) {\r\n        this.settings.load().then(() => {\r\n            this.options = this.settings.allSettings;\r\n        })\r\n        this.url = this.downloadService.videoURL;\r\n    }\r\n    url;\r\n    playVideo(id) {\r\n\r\n        if (this.settings.getValue('videoPreference') == 'download') {\r\n            if (this.downloadService.isDownloaded(id)) {\r\n                this.playLocal(id);\r\n            } else {\r\n                let alert = this.alertCtrl.create({\r\n                    title: \"Video Not Download\",\r\n                    subTitle: 'This video has not been downloaded yet. ',\r\n                    message: 'Would you like to stream the video or wait for the video to complete downloading?',\r\n                    buttons: [\r\n\r\n                        {\r\n                            text: 'Stream',\r\n                            handler: () => {\r\n                                this.playOnline(id);\r\n                            }\r\n                        }, {\r\n                            text: 'Wait',\r\n                            role: 'cancel',\r\n                            handler: () => {\r\n                                this.downloadService.forceDownload(id);\r\n                            }\r\n                        },\r\n                    ]\r\n                });\r\n                alert.present();\r\n            }\r\n        } else {\r\n            this.playOnline(id);\r\n            //http://www.intheloftstudios.com/blog/detecting-html5-video-fullscreen-and-events\r\n        }\r\n    }\r\n    playLocal(id) {\r\n\r\n        this.streamingMedia.playVideo(this.downloadService.getFilePath(id), this.videooptions);\r\n\r\n    }\r\n    playOnline(id) {\r\n\r\n        this.streamingMedia.playVideo(this.downloadService.getURLPath(id), this.videooptions);\r\n\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/video-service/video-service.ts","import { Injectable } from '@angular/core';\r\nimport { AlertController } from 'ionic-angular';\r\nimport { Storage } from '@ionic/storage'\r\nimport { Platform } from 'ionic-angular';\r\nimport { FileServiceProvider } from '../file-service/file-service';\r\nimport { LocalNotifications } from '@ionic-native/local-notifications';\r\nimport * as moment from 'moment'\r\n@Injectable()\r\n\r\nexport class NotificationsService {\r\n\r\n    constructor(\r\n        public platform: Platform,\r\n        private localNotifications: LocalNotifications,\r\n        public storage: Storage,\r\n        public fs: FileServiceProvider,\r\n        public alertCtrl: AlertController, ) {\r\n\r\n    }\r\n    initialiseNotifications() {\r\n        let self = this\r\n        this.storage.get('startedOn').then(date => {\r\n            if (date) {\r\n                this.localNotifications.getAllScheduled().then(s => {\r\n                    console.log(s)\r\n                })                \r\n                let started = moment(date)\r\n                this.storage.get(\"notificationsLoaded\").then(notificationsLoaded => {\r\n\r\n                    if (!notificationsLoaded) {\r\n                        self.localNotifications.hasPermission().then(permission => {\r\n\r\n                            if (!permission) {\r\n                                self.localNotifications.registerPermission().then(success => {\r\n                                    if (success) {\r\n                                        self.generateNotifications(started);\r\n                                    } else {\r\n                                        let alert = self.alertCtrl.create({\r\n                                            title: 'Notifications Disabled',\r\n                                            subTitle: 'You will not receive notifications for weekly content',\r\n                                            buttons: ['Ok']\r\n                                        });\r\n                                        alert.present();\r\n                                        this.storage.set(\"notificationsLoaded\", true);\r\n\r\n                                    }\r\n                                })\r\n                            } else {\r\n                                self.generateNotifications(started);\r\n                            }\r\n                        })\r\n\r\n                    }\r\n\r\n                })\r\n            }\r\n        })\r\n    }\r\n    disableNotifications() {\r\n        this.storage.set(\"notificationsLoaded\", false).then(()=>{\r\n            this.localNotifications.cancelAll();\r\n\r\n        })\r\n    }\r\n\r\n    generateNotifications(started) {\r\n        //TODO: check notifications here\r\n\r\n        this.storage.get(\"currentWeek\").then(currentWeek => {\r\n            //set notificaitions here \r\n            for (let i = currentWeek; i <= 10 - currentWeek; i++) {\r\n                // Schedule a single notification\r\n                let futureDate = moment(started).add(i, 'weeks');\r\n                futureDate.hour(9);\r\n                futureDate.minute(0);\r\n                //every week for 10 weeks \r\n                this.localNotifications.schedule({\r\n                    id: i + 1,\r\n                    title: 'New Weekly Content!',\r\n                    text: 'Talkable Week ' + (i + 1) + ' content is available.',\r\n                    at: futureDate.toDate()\r\n                });\r\n\r\n            }\r\n            this.storage.set(\"notificationsLoaded\", true);\r\n        })\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/notifications-service/notifications-service.ts"],"sourceRoot":""}